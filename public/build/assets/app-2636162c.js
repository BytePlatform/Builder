class u{_manager;getKey(){return""}manager(g){this._manager=g}getManager(){return this._manager}register(){}booting(){}booted(){}dispose(){}}class p extends u{getKey(){return"BYTE_LIVEWIRE_GRAPESJS_MODULE"}booting(){if(window.Livewire){let r=this.getManager();window.Livewire.directive("grapesjs",({el:e,directive:o,component:s})=>{if(o.modifiers.length>0||e.livewire____grapesjs)return;let i={};e.hasAttribute("wire:grapesjs.options")&&(i=new Function(`return ${e.getAttribute("wire:grapesjs.options")};`)());const n=i.pluginManager??[];i?.pluginManager&&(i={...i,pluginManager:void 0});const d=()=>{e.livewire____grapesjs||(e.livewire____grapesjs=grapesjs.init({container:e,storageManager:!1,style:r.dataGet(s.$wire,"cssdata"),components:r.dataGet(s.$wire,"htmldata"),...i,plugins:n.map(function(t){return t.name}),pluginsOpts:n.reduce(function(t,a){return t[a.name]=a.options??{},t},{})}),e.livewire____grapesjs.Panels.addButton("options",[{id:"save-builder-html",className:"fa fa-save",command:"save-data",attributes:{title:"Save Changes"}}]),e.livewire____grapesjs.Commands.add("save-data",{run:async function(t,a){a&&a.set("active",0),r.dataSet(s.$wire,"cssdata",e.livewire____grapesjs.getCss()),r.dataSet(s.$wire,"htmldata",e.livewire____grapesjs.getHtml()),r.dataSet(s.$wire,"jsdata",e.livewire____grapesjs.getJs()),s.$wire.doSaveBuilder()}}))};window.grapesjs?d():(window.ByteLoadStyle("https://cdn.jsdelivr.net/npm/grapesjs@0.21.6/dist/css/grapes.min.css",...n.reduce(function(t,a){return[...t,...a.css??[]]},[])),window.ByteLoadScript(["https://cdn.jsdelivr.net/npm/grapesjs@0.21.6/dist/grapes.min.js",...n.reduce(function(t,a){return[...t,...a.js??[]]},[])]).then(function(){d()}))})}}}window.addEventListener("byte::register",function(){ByteManager.registerPlugin(p)});
