{"version":3,"file":"index.js","mappings":"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","sources":["webpack://grapesjs-byte-builder/webpack/universalModuleDefinition","webpack://grapesjs-byte-builder/webpack/bootstrap","webpack://grapesjs-byte-builder/webpack/runtime/define property getters","webpack://grapesjs-byte-builder/webpack/runtime/hasOwnProperty shorthand","webpack://grapesjs-byte-builder/webpack/runtime/make namespace object","webpack://grapesjs-byte-builder/./src/components.js","webpack://grapesjs-byte-builder/./src/consts.js","webpack://grapesjs-byte-builder/./src/commands/shortcode.js","webpack://grapesjs-byte-builder/./src/commands/index.js","webpack://grapesjs-byte-builder/./src/commands/openImport.js","webpack://grapesjs-byte-builder/./src/commands/device.js","webpack://grapesjs-byte-builder/./src/locale/en.js","webpack://grapesjs-byte-builder/./src/index.js","webpack://grapesjs-byte-builder/./src/panels.js","webpack://grapesjs-byte-builder/./src/blocks.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"grapesjs-byte-builder\"] = factory();\n\telse\n\t\troot[\"grapesjs-byte-builder\"] = factory();\n})(typeof globalThis !== 'undefined' ? globalThis : (typeof window !== 'undefined' ? window : this), () => {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export default (editor, opts = {}) => {\n  const domc = editor.DomComponents;\n  var shortcodeRegex = /\\[([\\w-:]+)((?:\\s+\\w+\\s*=\\s*\"[^\"]*\")*)\\](.*?)\\[\\/\\1\\]/s;\n\n  domc.addType(\"shortcode\", {\n    isComponent: (el) =>\n      el.tagName === \"DIV\" && shortcodeRegex.test(el.innerHTML),\n    model: {\n      defaults: {\n        tagName: \"\",\n        name: \"Shortcode\",\n        draggable: true,\n        droppable: false,\n        removed: false,\n        content: '<div data-gjs-type=\"shortcode\"></div>',\n        components: \"\",\n      },\n    },\n    // toHTML: function () {\n    //   // Xử lý việc render HTML cho thành phần shortcode\n    //   var content = this.get(\"content\");\n    //   var name = content.substring(6, content.length - 8);\n    //   return \"Test thử\";\n    // },\n    view: {},\n  });\n  editor.on(\"component:styleUpdate\", function (model) {\n    if (model && model.get(\"type\") === \"shortcode\") {\n      // Áp dụng kiểu CSS cho thành phần block shortcode trong canvas\n      model.set({\n        style: {\n          \"min-height\": \"50px\",\n          padding: \"10px\",\n          border: \"1px dashed #ccc\",\n          // Các thuộc tính style khác tùy ý\n        },\n      });\n    }\n  });\n};\n","export const cmdImport = 'gjs-open-import-webpage';\nexport const cmdDeviceDesktop = 'set-device-desktop';\nexport const cmdDeviceTablet = 'set-device-tablet';\nexport const cmdDeviceMobile = 'set-device-mobile';\nexport const cmdClear = 'canvas-clear';","export default (editor, opts = {}) => {\n  const command = editor.Commands;\n  const openDialog = function (editor, sender, model) {\n    if (window.openShortcodeSetting) {\n      let div = document.createElement(\"div\");\n      div.innerHTML = model.view.el.innerHTML;\n      let shortcodeObj = window.getShortcodeObjectFromText(div.innerText);\n      window.openShortcodeSetting(\n        editor.getContainer(),\n        shortcodeObj?.shortcode ?? \"\",\n        shortcodeObj?.attributes ?? [],\n        shortcodeObj?.content ?? \"\",\n        function ($content) {\n          // model.view.el.innerHTML=$content;\n          model.set(\n            \"content\",\n            '<div data-gjs-type=\"shortcode\">' + $content + \"</div>\"\n          );\n          model.trigger(\"change:content\");\n          // Render the changes\n          editor.render();\n        },\n        function () {\n          sender.stop();\n        }\n      );\n    }\n  };\n  command.add(\"open-shortcode-dialog\", {\n    run: function (editor, sender, model) {\n      openDialog(editor, sender, model);\n    },\n  });\n};\n","import openImport from \"./openImport\";\nimport shortcode from \"./shortcode\";\nimport device from \"./device\";\nexport default (editor, opts = {}) => {\n  openImport(editor, opts);\n  shortcode(editor, opts);\n  device(editor, opts);\n};\n","import { cmdImport } from \"./../consts\";\n\nexport default (editor, opts = {}) => {\n  const pfx = editor.getConfig(\"stylePrefix\");\n  const importLabel = opts.modalImportLabel;\n  const importCnt = opts.modalImportContent;\n\n  editor.Commands.add(cmdImport, {\n    codeViewer: null,\n    container: null,\n\n    run(editor) {\n      const codeContent =\n        typeof importCnt == \"function\" ? importCnt(editor) : importCnt;\n      const codeViewer = this.getCodeViewer();\n      editor.Modal.open({\n        title: opts.modalImportTitle,\n        content: this.getContainer(),\n      }).onceClose(() => editor.stopCommand(cmdImport));\n      codeViewer.setContent(codeContent ?? \"\");\n      codeViewer.refresh();\n      setTimeout(() => codeViewer.focus(), 0);\n    },\n\n    stop() {\n      editor.Modal.close();\n    },\n\n    getContainer() {\n      if (!this.container) {\n        const codeViewer = this.getCodeViewer();\n        const container = document.createElement(\"div\");\n        container.className = `${pfx}import-container`;\n\n        // Import Label\n        if (importLabel) {\n          const labelEl = document.createElement(\"div\");\n          labelEl.className = `${pfx}import-label`;\n          labelEl.innerHTML = importLabel;\n          container.appendChild(labelEl);\n        }\n\n        container.appendChild(codeViewer.getElement());\n\n        // Import button\n        const btnImp = document.createElement(\"button\");\n        btnImp.type = \"button\";\n        btnImp.innerHTML = opts.modalImportButton;\n        btnImp.className = `${pfx}btn-prim ${pfx}btn-import`;\n        btnImp.onclick = () => {\n          editor.Css.clear();\n          editor.setComponents(codeViewer.getContent().trim());\n          editor.Modal.close();\n        };\n        container.appendChild(btnImp);\n\n        this.container = container;\n      }\n\n      return this.container;\n    },\n\n    /**\n     * Return the code viewer instance\n     * @returns {CodeViewer}\n     */\n    getCodeViewer() {\n      if (!this.codeViewer) {\n        this.codeViewer = editor.CodeManager.createViewer({\n          codeName: \"htmlmixed\",\n          theme: \"hopscotch\",\n          readOnly: false,\n          ...opts.importViewerOptions,\n        });\n      }\n\n      return this.codeViewer;\n    },\n  });\n};\n","import {\n  cmdDeviceDesktop,\n  cmdDeviceTablet,\n  cmdDeviceMobile,\n  cmdClear,\n} from \"./../consts\";\n\nexport default (editor, opts = {}) => {\n  const Commands = editor.Commands;\n  const txtConfirm = opts.textCleanCanvas;\n  Commands.add(cmdDeviceDesktop, {\n    run: (ed) => ed.setDevice(\"Desktop\"),\n    stop: () => {},\n  });\n  Commands.add(cmdDeviceTablet, {\n    run: (ed) => ed.setDevice(\"Tablet\"),\n    stop: () => {},\n  });\n  Commands.add(cmdDeviceMobile, {\n    run: (ed) => ed.setDevice(\"Mobile portrait\"),\n    stop: () => {},\n  });\n  Commands.add(\n    cmdClear,\n    (e) => confirm(txtConfirm) && e.runCommand(\"core:canvas-clear\")\n  );\n};\n","export default {\n    'grapesjs-byte-builder': {\n        // 'key': 'value',\n    },\n};","import loadComponents from \"./components\";\nimport loadPanels from \"./panels\";\nimport loadCommands from \"./commands\";\nimport loadBlocks from \"./blocks\";\nimport en from \"./locale/en\";\n\nexport default (editor, opts = {}) => {\n  const options = {\n    ...{\n      i18n: {},\n      // default options\n    },\n    modalImportTitle: \"Import\",\n    modalImportButton: \"Import\",\n    modalImportLabel: \"\",\n    modalImportContent: \"\",\n    importViewerOptions: {},\n    textCleanCanvas: \"Are you sure you want to clear the canvas?\",\n    showStylesOnChange: true,\n    useCustomTheme: true,\n    titleTemplateManager: \"Template Manager\",\n    urlTemplateManager: \"\",\n    ...opts,\n  };\n  // Add panels\n  loadPanels(editor, options);\n  // Add commands\n  loadCommands(editor, options);\n  // Add components\n  loadComponents(editor, options);\n  // Add blocks\n  loadBlocks(editor, options);\n  // Load i18n files\n  editor.I18n &&\n    editor.I18n.addMessages({\n      en,\n      ...options.i18n,\n    });\n\n  editor.on(\"component:selected\", function (model) {\n    if (model && model.get(\"type\") === \"shortcode\") {\n      editor.runCommand(\"open-shortcode-dialog\", model);\n      return;\n    }\n    let button = document.createElement(\"div\");\n    button.style = \"text-align: center;\";\n    button.classList.add(\"div-builder-component-plus\");\n    button.innerHTML =\n      \"<button class='button-component-plus btn btn-sm btn-primary'>+</button>\";\n    model.view.el.append(button);\n    model.view.el\n      .querySelector(\".button-component-plus\")\n      .addEventListener(\"click\", () => {\n        let callback = \"eventAddComponent\" + new Date().getTime();\n\n        let modal = window.ByteManager.openModal(\n          {\n            $url: options.urlTemplateManager,\n            $title: options.titleTemplateManager,\n            $size: \"modal-xl modal-fullscreen-lg-down\",\n          },\n          { callbackEvent: callback }\n        );\n        window[callback] = function (template) {\n          var newComponent = editor.DomComponents.addComponent(template);\n          // Append the new component as a child of the selected component\n          model.components().add(newComponent);\n          modal.hide();\n          // Render the changes\n          editor.render();\n        };\n      });\n  });\n\n  editor.on(\"component:deselected\", function (model) {\n    model.view.el.querySelector(\".div-builder-component-plus\")?.remove();\n  });\n  editor.on(\"component:dblclick\", function (model) {\n    if (model && model.get(\"type\") === \"shortcode\") {\n      editor.runCommand(\"open-shortcode-dialog\", model);\n    }\n  });\n  editor.on(\"block:drag:stop\", function (model) {\n    if (model && model.get(\"type\") === \"shortcode\") {\n      editor.runCommand(\"open-shortcode-dialog\", model);\n    }\n  });\n  // TODO Remove\n  // editor.on('load', () =>\n  //   editor.addComponents(\n  //       `<div style=\"margin:100px; padding:25px;\">\n  //           Content loaded from the plugin\n  //       </div>`,\n  //       { at: 0 }\n  //   ))\n};\n","import {\n  cmdImport,\n  cmdDeviceDesktop,\n  cmdDeviceTablet,\n  cmdDeviceMobile,\n  cmdClear,\n} from \"./consts\";\nexport default (editor, opts = {}) => {\n  const panels = editor.Panels;\n  opts.showDevices = false;\n  const swv = \"sw-visibility\";\n  const expt = \"export-template\";\n  const osm = \"open-sm\";\n  const otm = \"open-tm\";\n  const ola = \"open-layers\";\n  const obl = \"open-blocks\";\n  const ful = \"fullscreen\";\n  const prv = \"preview\";\n  const iconStyle = 'style=\"display: block; max-width:22px\"';\n\n  panels.getPanels().reset([\n    {\n      id: \"commands\",\n      el: \".byte-builder-manager .commands-panel-manager\",\n      buttons: [{}],\n    },\n    {\n      id: \"devices-c\",\n      el: \".byte-builder-manager .devices-panel-manager\",\n      buttons: [\n        {\n          id: cmdDeviceDesktop,\n          command: cmdDeviceDesktop,\n          active: true,\n          label: `<svg ${iconStyle} viewBox=\"0 0 24 24\">\n          <path fill=\"currentColor\" d=\"M21,16H3V4H21M21,2H3C1.89,2 1,2.89 1,4V16A2,2 0 0,0 3,18H10V20H8V22H16V20H14V18H21A2,2 0 0,0 23,16V4C23,2.89 22.1,2 21,2Z\" />\n      </svg>`,\n        },\n        {\n          id: cmdDeviceTablet,\n          command: cmdDeviceTablet,\n          label: `<svg ${iconStyle} viewBox=\"0 0 24 24\">\n          <path fill=\"currentColor\" d=\"M19,18H5V6H19M21,4H3C1.89,4 1,4.89 1,6V18A2,2 0 0,0 3,20H21A2,2 0 0,0 23,18V6C23,4.89 22.1,4 21,4Z\" />\n      </svg>`,\n        },\n        {\n          id: cmdDeviceMobile,\n          command: cmdDeviceMobile,\n          label: `<svg ${iconStyle} viewBox=\"0 0 24 24\">\n          <path fill=\"currentColor\" d=\"M17,19H7V5H17M17,1H7C5.89,1 5,1.89 5,3V21A2,2 0 0,0 7,23H17A2,2 0 0,0 19,21V3C19,1.89 18.1,1 17,1Z\" />\n      </svg>`,\n        },\n      ],\n    },\n    {\n      id: \"options\",\n      el: \".byte-builder-manager .options-panel-manager\",\n      buttons: [\n        {\n          id: swv,\n          command: swv,\n          context: swv,\n          label: `<svg ${iconStyle} viewBox=\"0 0 24 24\">\n      <path fill=\"currentColor\" d=\"M15,5H17V3H15M15,21H17V19H15M11,5H13V3H11M19,5H21V3H19M19,9H21V7H19M19,21H21V19H19M19,13H21V11H19M19,17H21V15H19M3,5H5V3H3M3,9H5V7H3M3,13H5V11H3M3,17H5V15H3M3,21H5V19H3M11,21H13V19H11M7,21H9V19H7M7,5H9V3H7V5Z\" />\n  </svg>`,\n        },\n        {\n          id: prv,\n          context: prv,\n          command: () => editor.runCommand(prv),\n          label: `<svg ${iconStyle} viewBox=\"0 0 24 24\"><path fill=\"currentColor\" d=\"M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z\"></path></svg>`,\n        },\n        {\n          id: ful,\n          command: ful,\n          context: ful,\n          label: `<svg ${iconStyle} viewBox=\"0 0 24 24\">\n          <path fill=\"currentColor\" d=\"M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17V19H5V14H7V17H10Z\" />\n      </svg>`,\n        },\n        {\n          id: expt,\n          command: () => editor.runCommand(expt),\n          label: `<svg ${iconStyle} viewBox=\"0 0 24 24\">\n          <path fill=\"currentColor\" d=\"M12.89,3L14.85,3.4L11.11,21L9.15,20.6L12.89,3M19.59,12L16,8.41V5.58L22.42,12L16,18.41V15.58L19.59,12M1.58,12L8,5.58V8.41L4.41,12L8,15.58V18.41L1.58,12Z\" />\n      </svg>`,\n        },\n        {\n          id: \"undo\",\n          command: () => editor.runCommand(\"core:undo\"),\n          label: `<svg ${iconStyle} viewBox=\"0 0 24 24\">\n          <path fill=\"currentColor\" d=\"M20 13.5C20 17.09 17.09 20 13.5 20H6V18H13.5C16 18 18 16 18 13.5S16 9 13.5 9H7.83L10.91 12.09L9.5 13.5L4 8L9.5 2.5L10.92 3.91L7.83 7H13.5C17.09 7 20 9.91 20 13.5Z\" />\n      </svg>`,\n        },\n        {\n          id: \"redo\",\n          command: () => editor.runCommand(\"core:redo\"),\n          label: `<svg ${iconStyle} viewBox=\"0 0 24 24\">\n          <path fill=\"currentColor\" d=\"M10.5 18H18V20H10.5C6.91 20 4 17.09 4 13.5S6.91 7 10.5 7H16.17L13.08 3.91L14.5 2.5L20 8L14.5 13.5L13.09 12.09L16.17 9H10.5C8 9 6 11 6 13.5S8 18 10.5 18Z\" />\n      </svg>`,\n        },\n        {\n          id: cmdImport,\n          command: () => editor.runCommand(cmdImport),\n          label: `<svg ${iconStyle} viewBox=\"0 0 24 24\">\n          <path fill=\"currentColor\" d=\"M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z\" />\n      </svg>`,\n        },\n        {\n          id: cmdClear,\n          command: () => editor.runCommand(cmdClear),\n          label: `<svg ${iconStyle} viewBox=\"0 0 24 24\">\n            <path fill=\"currentColor\" d=\"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z\" />\n        </svg>`,\n        },\n        {\n          id: \"save-builder-html\",\n          className: \"fa fa-save\",\n          command: \"byte-builder-save-data\",\n          label: \"<span style='margin-left: 5px;'>Publish</span>\",\n          attributes: {\n            title: \"Publish\",\n          },\n        },\n      ],\n    },\n  ]);\n};\n","export default (editor, opts = {}) => {\n  const bm = editor.BlockManager;\n\n  bm.add(\"shortcode\", {\n    label: \"ShortCode\",\n    category: \"Common\",\n    content: '<div data-gjs-type=\"shortcode\"></div>',\n    media:\n      '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"1em\" viewBox=\"0 0 448 512\"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d=\"M80 104a24 24 0 1 0 0-48 24 24 0 1 0 0 48zm80-24c0 32.8-19.7 61-48 73.3V192c0 17.7 14.3 32 32 32H304c17.7 0 32-14.3 32-32V153.3C307.7 141 288 112.8 288 80c0-44.2 35.8-80 80-80s80 35.8 80 80c0 32.8-19.7 61-48 73.3V192c0 53-43 96-96 96H256v70.7c28.3 12.3 48 40.5 48 73.3c0 44.2-35.8 80-80 80s-80-35.8-80-80c0-32.8 19.7-61 48-73.3V288H144c-53 0-96-43-96-96V153.3C19.7 141 0 112.8 0 80C0 35.8 35.8 0 80 0s80 35.8 80 80zm208 24a24 24 0 1 0 0-48 24 24 0 1 0 0 48zM248 432a24 24 0 1 0 -48 0 24 24 0 1 0 48 0z\"/></svg>',\n  });\n};\n"],"names":["root","factory","exports","module","define","amd","globalThis","window","this","__webpack_require__","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","cmdImport","cmdDeviceDesktop","cmdDeviceTablet","cmdDeviceMobile","cmdClear","editor","command","Commands","add","run","sender","model","openShortcodeSetting","_shortcodeObj$shortco","_shortcodeObj$attribu","_shortcodeObj$content","div","document","createElement","innerHTML","view","el","shortcodeObj","getShortcodeObjectFromText","innerText","getContainer","shortcode","attributes","content","$content","set","trigger","render","stop","openDialog","opts","arguments","length","undefined","pfx","getConfig","importLabel","modalImportLabel","importCnt","modalImportContent","codeViewer","container","codeContent","getCodeViewer","Modal","open","title","modalImportTitle","onceClose","stopCommand","setContent","refresh","setTimeout","focus","close","className","concat","labelEl","appendChild","getElement","btnImp","type","modalImportButton","onclick","Css","clear","setComponents","getContent","trim","CodeManager","createViewer","codeName","theme","readOnly","importViewerOptions","openImport","txtConfirm","textCleanCanvas","ed","setDevice","e","confirm","runCommand","device","options","i18n","showStylesOnChange","useCustomTheme","titleTemplateManager","urlTemplateManager","panels","Panels","showDevices","swv","expt","ful","prv","iconStyle","getPanels","reset","id","buttons","active","label","context","loadPanels","loadCommands","domc","DomComponents","shortcodeRegex","addType","isComponent","tagName","test","defaults","name","draggable","droppable","removed","components","on","style","padding","border","loadComponents","BlockManager","category","media","loadBlocks","I18n","addMessages","en","button","classList","append","querySelector","addEventListener","callback","Date","getTime","modal","ByteManager","openModal","$url","$title","$size","callbackEvent","template","newComponent","addComponent","hide","_model$view$el$queryS","remove"],"sourceRoot":""}